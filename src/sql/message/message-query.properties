#message.properties 

# 받은 쪽지 목록 가져오기
getMessageList=SELECT MSG_NO, RECV_ID, SENDER_ID, MSG_TITLE, RECVTIME, MSG_STATUS FROM MESSAGE WHERE USER_ID = ?
# 쪽지 전송
insertNewMessage=INSERT INTO MESSAGE VALUES(SEQ_MNO.NEXTVAL, ?, ?, ?, ?, SYSDATE, 'N', 'N')
# 쪽지 전송 w/ 첨부파일
insertMsgAttachment=INSERT INTO ATTACHMENT VALUES(SEQ_MATNO.NEXTVAL, ?, ?, ?, SEQ_MNO.CURRVAL)
# 쪽지 삭제
deleteMessage=UPDATE MESSAGE SET
# 보낸 쪽지 목록 가져오기
getSendMsgList=SELECT * FROM MESSAGE WHERE SENDER_ID = ?
# 

<<<<<<< HEAD
### Message_Attachment 쿼리
# 
=======
selectMsgAttachment=SELECT MAT_NO, MAT_ORIGIN, MAT_NEWNAME FROM MSG_ATTACHMENT WHERE REF_MNO=?

getSendMsgList=SELECT MSG_NO, RECV_ID, SENDER_ID, MSG_TITLE, RECVTIME, MSG_STATUS FROM (SELECT ROWNUM RNUM, A.* FROM (SELECT MSG_NO, RECV_ID, SENDER_ID, MSG_TITLE, RECVTIME, MSG_STATUS FROM MESSAGE WHERE MSG_DEL = 'N' ORDER BY MSG_NO DESC) A) WHERE RNUM BETWEEN ? AND ? AND SENDER_ID = ?
deleteSendMessage=UPDATE MESSAGE SET MSG_DEL = 'Y' WHERE SENDER_ID = ? AND MSG_NO = ?
getSendMessageContent=SELECT MSG_NO, RECV_ID, SENDER_ID, MSG_TITLE, MSG_CONTENT, RECVTIME, MSG_STATUS FROM MESSAGE WHERE MSG_NO = ? AND MSG_DEL = 'N' AND SENDER_ID = ?

getMessageCount=SELECT COUNT(*) FROM MESSAGE WHERE RECV_ID = ? AND MSG_DEL = 'N'
getSendMessageCount=SELECT COUNT(*) FROM MESSAGE WHERE SENDER_ID = ? AND MSG_DEL = 'N'
getDeleteMessageCount=SELECT COUNT(*) FROM MESSAGE WHERE RECV_ID = ? AND MSG_DEL = 'Y'

getDeleteMsgList=SELECT MSG_NO, RECV_ID, SENDER_ID, MSG_TITLE, RECVTIME, MSG_STATUS FROM (SELECT ROWNUM RNUM, A.* FROM (SELECT MSG_NO, RECV_ID, SENDER_ID, MSG_TITLE, RECVTIME, MSG_STATUS FROM MESSAGE WHERE MSG_DEL = 'Y' ORDER BY MSG_NO DESC) A) WHERE RNUM BETWEEN ? AND ? AND RECV_ID = ?
>>>>>>> 83361499e0173ac1696b69f06884aac4475dca14
